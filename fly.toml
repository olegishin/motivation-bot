app = 'fotinia-final'
primary_region = 'fra'

[build]
  dockerfile = 'Dockerfile'

[env]
  # üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø
  # (–û–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º–∏, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ fly secrets set)
  BOT_TOKEN = "7814059503:AAEKMUkOAso2q9rWIE6-So_ntDojnvXdaqM"
  ADMIN_CHAT_ID = "676960893"
  
  # –ü–ï–†–ï–ú–ï–ù–ù–´–ï JWT/2FA (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–∞–∫ secrets)
  ADMIN_JWT_SECRET = "d681c8d831d97ba3ce67a2eb0df57a48a9f29d56e7a5902cb424bc06958eb871"
  ADMIN_2FA_SECRET = "X4OAJYYGBQAZRMHCHFRWP7SSOO4TXVDD"
  
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±—Ö—É–∫–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  FLY_APP_NAME = "fotinia-final"
  WEBHOOK_URL = "https://fotinia-final.fly.dev"
  
  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
  DATA_DIR = '/app/data'
  PORT = '8080'
  PYTHONUNBUFFERED = '1'
  
  # ‚úÖ (–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) –ù–µ –∑–∞–±—É–¥—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OPENAI_API_KEY —á–µ—Ä–µ–∑ fly secrets set!
  # OPENAI_API_KEY = ...

[processes]
  web = 'uvicorn bot.main:app --host 0.0.0.0 --port 8080'

[[mounts]]
  source = 'fotinia_data'
  destination = '/app/data'

[http_service]
  internal_port = 8080
  force_https = true
  auto_stop_machines = 'off'
  auto_start_machines = false
  min_machines_running = 1
  processes = ['web']

  [[http_service.checks]]
    # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –¢–ê–ô–ú–ê–£–¢–´: –î–∞–µ–º –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∑–∞–ø—É—Å–∫!
    interval = '10s'   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
    timeout = '5s'     # –¢–∞–π–º–∞—É—Ç –æ—Ç–≤–µ—Ç–∞ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 5s
    grace_period = '15s' # –ü–µ—Ä–∏–æ–¥ –æ–∂–∏–¥–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 15s
    method = 'GET'
    path = '/'
    protocol = 'http'

[[vm]]
  memory = '512mb'
  cpu_kind = 'shared'
  cpus = 1